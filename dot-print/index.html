<!DOCTYPE html>
<html>
    <head>
        <title>Welcome to Vue</title>
        <script src="https://unpkg.com/vue"></script>
        <link href="stylesheet.css" rel="stylesheet">
        <link href="stylesheet.print.css" rel="stylesheet">
    </head>
    <body>
        <div id="app">
            <div id="header">
                <h1>Dot Printer</h1>
            </div>
            <div id="edit">
                <textarea v-model="message"></textarea>
            </div>
            <div id="font">
                <formgroup>
                    <label for="dot">Dots: </label>
                    <select v-model="font">
                    <option id="dot" value="KG Primary Dots" selected>Primary</option>
                    <option id="dot-line" value="KG Primary Dots Lined" >Dots Lined</option>
                    <option id="dot-line-alt" value="KG Primary Dots Lined Alt" >Dots Lined Alt</option>
                    <option id="dot-line-cursive" value="Learning Curve Dashed" >Dots lined Cursive</option>
                </select>
                </formgroup>
                <formgroup>
                    <label for="align">Align: </label>
                    <select id="align" v-model="textAlign">
                        <option id="to-left" value="left" selected>Left</option>
                        <option id="to-center" value="center">Center</option>
                        <option id="to-right" value="right">Right</option>
                    </select>
                </formgroup>
                <formgroup>
                    <label for="scale">Font Size</label>
                    <select id="scale" v-model="scale">
                        <option id="large" value="large" selected>Large</option>
                        <option id="small" value="small">Small</option>
                    </select>
                </formgroup>
            </div>
            <div id="printarea" :style="printStyle">
                <p v-for="line in lines" :style="lineStyle">{{ line }}</p>
            </div>
        </div>
        <script>
            var app = new Vue({
                el: '#app',
                data: {
                    message: 'Edit Me!',
                    font: 'KG Primary Dots',
                    scale: 'large',
                    textAlign: 'left',
                },
                computed: {
                    lines: function () {
                        return this
                            .message
                            .split("\n")
                            .map(l => l.trim())
                    },
                    lineStyle: function () {
                        return {
                            fontSize: this.scale === 'large' ?  `152px` : `50px`,
                            fontFamily: this.font,
                            lineHeight: this.scale === 'large' ?  `1.3` : `1.06`,
                        }
                    },
                    printStyle: function () {
                        return {
                            textAlign: this.textAlign,
                            backgroundImage: this.scale === 'large' ? `url(${'./images/handwriting-large.png'})` : `url(${'./images/handwriting-small.png'})`,
                            paddingTop: this.scale === 'large' ? `80px` : `80px`
                        }
                    },
                }
            })
        </script>
    </body>
</html>
